(this["webpackJsonpreddit-example"]=this["webpackJsonpreddit-example"]||[]).push([[0],{61:function(e,t,n){},62:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),o=n(13),i=n.n(o),s=(n(61),n(62),n(90)),d=n(4),l=n(92),u=Object(s.a)((function(e){return{root:{display:"flex",flexFlow:"column",paddingTop:"50px"},content:{margin:"0 auto 20px"}}})),p=function(e){var t=e.children,n=e.label,r=u();return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)("div",{className:r.content,children:t}),Object(a.jsx)("span",{children:n})]})},b=function(e){var t=e.label;return Object(a.jsx)(p,{label:t,children:Object(a.jsx)(l.a,{})})},j=Object(s.a)((function(e){return{image:{height:"50px",width:"50px"}}})),h=function(e){var t=e.label,n=j();return Object(a.jsx)(p,{label:t,children:Object(a.jsx)("img",{src:"/error-icon.png",alt:"error",className:n.image})})},x=n(11),f=n(17),O=n.n(f),m=n(35),g=function(e){return e<10?"0".concat(e):e},v=function(e){var t=new Date(e);return"".concat(g(t.getMonth()+1),"/").concat(g(t.getDate()),"/").concat(t.getFullYear()," ").concat(g(t.getHours()),":").concat(g(t.getMinutes()),":").concat(g(t.getSeconds()))},S=Object(s.a)((function(){return{root:{transition:"padding-left 2s, width 2s",padding:"10px 10px 0",marginBottom:"10px",overflow:"hidden",width:"calc(100vw - 20px)","&.is-discarding":{width:0,"& $delete":{width:0,border:0}},"&.is-selected":{"& $itemContainer":{backgroundColor:"#e8e8e8"}},"@media(min-width: 500px)":{width:"470px"},"@media(min-width: 800px)":{"&.is-selected":{paddingLeft:"40px"}}},itemContainer:{transition:"width 2s, background-color 2s",display:"flex",cursor:"pointer",justifyContent:"space-between",backgroundColor:"#fff",borderTopLeftRadius:"10px",borderTopRightRadius:"10px",textAlign:"left",overflow:"hidden","&:hover":{opacity:.7},width:"calc(100vw - 20px)","@media(min-width: 500px)":{width:"460px"}},item:{display:"flex",minHeight:"100px",width:"100%"},info:{borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px",backgroundColor:"rgb(255, 170, 138)",width:"calc(100vw - 20px)",padding:"5px 10px",height:"20px","@media(min-width: 500px)":{width:"440px"}},delete:{borderRadius:"50%",border:"solid 2px",height:"15px",width:"15px",marginRight:"-10px",marginTop:"-10px",position:"relative",left:"calc(50% - 7px)",top:"12px","@media(min-width: 500px)":{left:"calc(50% - 6px - 10px)"}},postInfo:{margin:"10px",display:"flex",flexFlow:"column",justifyContent:"space-between",width:"100%"},createdDate:{textAlign:"right",fontSize:"13px",color:"#6d6c6c"},thumbnail:{maxWidth:"100px"},title:{fontWeight:"bold"},metaInfo:{marginTop:"10px",display:"flex",justifyContent:"space-between"},notReadIndicator:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"#69698c",float:"left",marginTop:"5px"},numComments:{float:"right"}}})),w=Object(x.b)((function(e){var t=e.postsReducer;return Object(d.a)({},t)}),(function(e){return{selectPost:function(t){return e(function(e){return{type:"SELECT_POST",payload:e}}(t))},discardPost:function(t){return e(function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"DISCARDING_POST",payload:e}),setTimeout((function(){return n({type:"DISCARD_POST",payload:e})}),2e3);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.selectedPost,n=e.discardingPost,r=e.post,c=e.readPosts,o=e.selectPost,i=e.discardPost,s=e.onClick,d=e.isDiscardingAll,l=S(),u=c.includes(r),p=r===t,b=r===n||d;return Object(a.jsxs)("article",{className:"".concat(l.root," ").concat(p?"is-selected":""," ").concat(b?"is-discarding":""),onClick:function(){o(r),s()},children:[Object(a.jsx)("img",{className:l.delete,src:"/delete-icon.svg",alt:"delete",title:"Discard",onClick:function(e){e.stopPropagation(),i(r)}}),Object(a.jsx)("div",{className:l.itemContainer,children:Object(a.jsxs)("div",{className:l.item,children:[r.thumbnail&&Object(a.jsx)("img",{className:l.thumbnail,src:r.thumbnail,alt:"thumbnail"}),Object(a.jsxs)("div",{className:l.postInfo,children:[Object(a.jsx)("span",{className:l.title,children:r.title}),Object(a.jsxs)("div",{className:l.metaInfo,children:[Object(a.jsxs)("span",{className:l.createdDate,children:["by ",r.author]}),Object(a.jsxs)("span",{className:l.createdDate,children:["at ",v(r.created_utc)]})]})]})]})}),Object(a.jsxs)("div",{className:l.info,children:[!u&&Object(a.jsx)("div",{className:l.notReadIndicator}),Object(a.jsxs)("span",{className:l.numComments,children:["# comments: ",r.num_comments]})]})]})})),P=Object(s.a)((function(){return{root:{zIndex:1,display:"flex","&.collapsed":{"& $sideBar":{width:0,border:0},"& $button":{right:"calc(100% - 47px)"}}},sideBar:{position:"static",top:0,left:0,height:"100vh",overflowY:"auto",transition:"width 2s",width:"100vw","@media(min-width: 500px)":{width:"520px"}},button:{transition:"right 2s",position:"absolute",top:"10px",right:0,backgroundColor:"#cac8c8",borderRadius:"5px","&:hover":{backgroundColor:"rgba(202, 200, 200, .7)"},"@media(min-width: 600px)":{right:"calc(100% - 500px + 1px)"}}}})),C=Object(x.b)((function(e){var t=e.appReducer;return Object(d.a)({},t)}),(function(e){return{closeSideBar:function(){return e({type:"CLOSE_SIDEBAR"})}}}))((function(e){var t=e.loadingPosts,n=e.errorInLoad,r=e.posts,c=e.sideBarIsOpen,o=e.closeSideBar,i=P(),s=function(){window.outerWidth<=800&&o()};return Object(a.jsx)("div",{className:"".concat(i.root," ").concat(c?"":"collapsed"),children:Object(a.jsxs)("div",{className:i.sideBar,children:[t&&Object(a.jsx)(b,{label:"Loading posts..."}),n&&Object(a.jsx)(h,{label:"Error loading data"}),r&&r.map((function(e){return Object(a.jsx)(w,{onClick:s,post:e},e.id)}))]})})})),y=Object(s.a)((function(){return{root:{display:"flex",flexFlow:"column",height:"100%",padding:"20px 20px 0 20px",width:"100%",textAlign:"left","@media(min-width: 800px)":{width:"100%"}},thumbnail:{width:"100%",height:"auto",maxHeight:"300px","@media(min-width: 800px)":{maxHeight:"600px"}},title:{fontSize:"17px"},header:{marginBottom:"10px",display:"flex",justifyContent:"space-between",fontSize:"14px",color:"#6d6c6c"}}})),R=function(e){var t=e.post,n=y();return void 0===t?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsxs)("div",{className:n.header,children:[Object(a.jsx)("span",{children:v(t.created_utc)}),Object(a.jsxs)("span",{children:["Created by ",t.author]})]}),t.thumbnail&&Object(a.jsx)("img",{src:t.thumbnail,className:n.thumbnail,alt:"Thumbnail"}),Object(a.jsx)("h1",{className:n.title,children:t.title})]})},D=n(51),I=n(96),N=n(93),A=n(44),_=n.n(A),T=n(94),E=n(45),L=n.n(E),k=n(46),B=n.n(k),F=n(47),H=n.n(F),W=Object(s.a)((function(){return{root:{backgroundColor:"#fff"},button:{marginLeft:"10px",width:"48px",backgroundColor:"rgb(255, 69, 0)","&:hover":{backgroundColor:"rgb(255, 69, 0)",opacity:.7},"&.is-opened":{backgroundColor:"rgb(204, 55, 0)"}},openDrawer:{marginLeft:"0"},sideBarHandlerContainer:{transition:"width 1s",width:"48px",overflow:"hidden",display:"flex","&.is-opened":{width:"106px"}}}})),M="REDDIT_EXAMPLE",z=Object(x.b)((function(e){return e}),(function(e){return{openSideBar:function(){return e({type:"OPEN_SIDEBAR"})},closeSideBar:function(){return e({type:"CLOSE_SIDEBAR"})},clearAll:function(){return e(function(){var e=Object(m.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"DISCARDING_ALL"}),setTimeout((function(){return t({type:"DISCARD_ALL"})}),2e3);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},restoreState:function(t){return e(function(e){return{type:"RESTORE_STATE",payload:e}}(t))}}}))((function(e){var t=e.openSideBar,n=e.closeSideBar,c=e.clearAll,o=e.restoreState,i=e.postsReducer,s=e.appReducer,d=Object(r.useState)(!1),l=Object(D.a)(d,2),u=l[0],p=l[1],b=s.sideBarIsOpen,j=W(),h=u||null!==localStorage.getItem(M);return Object(a.jsx)(I.a,{className:j.root,children:Object(a.jsxs)(N.a,{children:[Object(a.jsxs)("div",{className:"".concat(j.sideBarHandlerContainer," ").concat(b?"is-opened":""),children:[Object(a.jsx)(T.a,{className:"".concat(j.button," ").concat(j.openDrawer," ").concat(b?"is-opened":""),color:"inherit","aria-label":"open drawer",onClick:b?n:t,children:Object(a.jsx)(_.a,{})}),Object(a.jsx)(T.a,{className:"".concat(j.button," ").concat(j.clearAll),color:"inherit","aria-label":"clear all",onClick:function(){return c()},children:Object(a.jsx)(L.a,{})})]}),Object(a.jsx)(T.a,{className:"".concat(j.save," ").concat(j.button),color:"inherit","aria-label":"save",onClick:function(){var e=i.posts,t=i.readPosts,n=i.selectedPost;p(!0),localStorage.setItem(M,JSON.stringify({posts:e,readPosts:t,selectedPost:n}))},children:Object(a.jsx)(B.a,{})}),h&&Object(a.jsx)(T.a,{className:"".concat(j.save," ").concat(j.button),color:"inherit","aria-label":"restore",onClick:function(){var e=localStorage.getItem(M);e&&o(JSON.parse(e))},children:Object(a.jsx)(H.a,{})})]})})})),G=Object(s.a)((function(e){return{contentWrapper:{marginTop:"65px",display:"flex",width:"100%"}}})),J=Object(x.b)((function(e){var t=e.postsReducer;return Object(d.a)({},t)}),(function(e){return{getPosts:function(){return e(function(){var e=Object(m.a)(O.a.mark((function e(t){var n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"POSTS_LOAD_IN_PROCESS"}),e.next=3,fetch("metadata.json",{mode:"cors"});case 3:if((n=e.sent).ok){e.next=6;break}return e.abrupt("return",t({type:"POSTS_LOAD_ERROR"}));case 6:return e.next=8,n.json();case 8:return a=e.sent,r=a.data,e.abrupt("return",t({type:"POSTS_LOAD_SUCCESS",payload:r}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.posts,n=e.selectedPost,c=e.getPosts,o=G();return Object(r.useEffect)((function(){c()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(z,{}),Object(a.jsxs)("div",{className:o.contentWrapper,children:[Object(a.jsx)(C,{posts:t}),Object(a.jsx)(R,{post:n})]})]})})),$=Object(s.a)((function(){return{root:{display:"flex",backgroundColor:"#ffecd9",overflow:"hidden"}}})),U=function(){var e=$();return Object(a.jsx)("div",{className:"App ".concat(e.root),children:Object(a.jsx)(J,{})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,97)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},X=n(14),q=n(48),K=n(49),Q=n(52),V=n(50),Z={loadingPosts:!1,errorInLoad:!1,posts:[],readPosts:[],selectedPost:void 0,discardingPost:void 0,isDiscardingAll:!1},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POSTS_LOAD_IN_PROCESS":return Object(d.a)(Object(d.a)({},e),{},{loadingPosts:!0});case"POSTS_LOAD_ERROR":return Object(d.a)(Object(d.a)({},e),{},{loadingPosts:!1,errorInLoad:!0});case"POSTS_LOAD_SUCCESS":var n=t.payload.children;return Object(d.a)(Object(d.a)({},e),{},{loadingPosts:!1,errorInLoad:!1,posts:n.map((function(e){return e.data}))});case"SELECT_POST":var a=t.payload;return Object(d.a)(Object(d.a)({},e),{},{selectedPost:a,readPosts:e.readPosts.includes(a)?e.readPosts:[].concat(Object(V.a)(e.readPosts),[a])});case"DISCARDING_POST":var r=t.payload;return Object(d.a)(Object(d.a)({},e),{},{discardingPost:r});case"DISCARD_POST":var c=t.payload;return Object(d.a)(Object(d.a)({},e),{},{posts:e.posts.filter((function(e){return e!==c})),selectedPost:e.selectedPost!==c?e.selectedPost:void 0});case"DISCARDING_ALL":return Object(d.a)(Object(d.a)({},e),{},{isDiscardingAll:!0,selectedPost:void 0});case"DISCARD_ALL":return Object(d.a)(Object(d.a)({},e),{},{isDiscardingAll:!1,posts:[]});case"RESTORE_STATE":var o=t.payload,i=o.readPosts,s=o.posts,l=Object(Q.a)(o,["readPosts","posts"]),u=i.map((function(e){var t=e.id;return s.find((function(e){var n=e.id;return t===n}))}));return Object(d.a)(Object(d.a)({},e),{},{readPosts:u,posts:s},l);default:return e}},te={sideBarIsOpen:!1},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_SIDEBAR":return Object(d.a)(Object(d.a)({},e),{},{sideBarIsOpen:!0});case"CLOSE_SIDEBAR":return Object(d.a)(Object(d.a)({},e),{},{sideBarIsOpen:!1});default:return e}},ae=Object(X.combineReducers)({postsReducer:ee,appReducer:ne}),re=Object(X.createStore)(ae,Object(K.composeWithDevTools)(Object(X.applyMiddleware)(q.a)));i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(x.a,{store:re,children:Object(a.jsx)(U,{})})}),document.getElementById("root")),Y()}},[[70,1,2]]]);
//# sourceMappingURL=main.4c02a7d4.chunk.js.map